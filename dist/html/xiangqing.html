<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>详情页</title>
    <link rel="stylesheet" href="../css/xiangqing.css" />
    <link
      rel="stylesheet"
      href="//at.alicdn.com/t/font_1897339_k1c7f2y33dp.css"
    />
  </head>
  <body>
    <div class="head">
      <!-- 搜索开始 -->
      <div class="top-seek">
        <div class="navBar">
          <!-- 左侧导航 -->
          <div class="centre">
            <ul class="fl">
              <li>
                <a href="#" class="wz">
                  <i class="iconfont icon-dingwei one"></i>
                  <span>河南</span>
                </a>
                <div class="select">
                  <div class="site">
                    <span class="wz-active">北京</span>
                    <span>北京</span>
                    <span>北京</span>
                    <span>北京</span>
                    <span>北京</span>
                    <span>北京</span>
                    <span>北京</span>
                    <span>北京</span>
                  </div>
                  <div class="got">
                    <span>中国港澳</span>
                    <span>中国台湾</span>
                    <span>中国台湾</span>
                  </div>
                  <dl class="gj">
                    <dt>Available Sites</dt>
                    <dd>
                      <a href="">
                        <i class="iconfont icon-xibanyaguoqi"></i>
                        <span>Global Site</span>
                      </a>
                      <a href="">
                        <i class="iconfont icon-xibanyaguoqi"></i>

                        <span>Global Site</span>
                      </a>
                      <a href="">
                        <i class="iconfont icon-xibanyaguoqi"></i>

                        <span>Global Site</span>
                      </a>
                      <a href="">
                        <i class="iconfont icon-xibanyaguoqi"></i>

                        <span>Global Site</span>
                      </a>
                      <a href="">
                        <i class="iconfont icon-xibanyaguoqi"></i>

                        <span>Global Site</span>
                      </a>
                    </dd>
                  </dl>
                </div>
              </li>
            </ul>
            <!-- 右侧开始 -->
            <ul class="fr">
              <li class="m">
                <a href="http://localhost:5050/html/enter.html">你好，请登录</a>
                <a href="http://localhost:5050/html/login.html">免费注册</a>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">我的订单</a>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">我的京东 v </a>
                <div class="wd-jd none">
                  <div>
                    <a href=""> 待处理订单</a>
                    <a href="">消息</a>
                    <a href="">返修退换货</a>
                    <a href="">我的问答</a>
                    <a href="">降价商品</a>
                    <a href="">我的关注</a>
                  </div>
                  <div>
                    <a href="">我的京东</a>
                    <a href="">我的优惠卷</a>
                    <a href="">我的白条</a>
                    <a href="">我的理财</a>
                  </div>
                </div>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">京东会员</a>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">企业采购 v </a>
                <div class="cg none">
                  <div>
                    <a href="">企业购</a>
                    <a href="">商用场景管</a>
                    <a href="">工业品</a>
                    <a href="">礼品卡</a>
                    <a href="">丰乐多商城</a>
                  </div>
                </div>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">客户服务 v </a>
                <div class="fw none">
                  <div>
                    <div class="title">客户</div>
                    <a href="//help.jd.com/index.html">帮助中心</a>
                    <a href="//myjd.jd.com/afs/indexNew.action?entry=2"
                      >售后服务</a
                    >
                    <a href="//chat.jd.com/jdchat/custom.action">在线客服</a>
                    <a href="//myjd-crm.jd.com/opinion/orderList.action"
                      >意见建议</a
                    >
                    <a href="//myjd-crm.jd.com/appoint/telebooking.action"
                      >电话客服</a
                    >
                    <a href="//www.jd.com/contact/service.html">客服邮箱</a>
                    <a href="https://jrhelp.jd.com/">金融咨询</a>
                    <a href="//chat.jd.com/jd/chat?entry=jd_web_joybuy"
                      >全球售客服</a
                    >
                  </div>
                  <div>
                    <div class="title">商户</div>
                    <a href="https://lai.jd.com">合作招商</a>
                    <a href="//chengzhang.jd.com">成长中心</a>
                    <a href="//shop.jd.com/">商家后台</a>
                    <a href="//jm.jd.com/index/index.html">京麦工作台</a>
                    <a href="//helpcenter.jd.com/venderportal/index.html"
                      >商家帮助</a
                    >
                    <a href="//rule.jd.com/rule/index.action">规则平台</a>
                  </div>
                </div>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">网站导航 v </a>
                <div class="dh none">
                  <div>
                    <div class="title">特色主题</div>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                  </div>
                  <div>
                    <div class="title">行业频道</div>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                  </div>
                  <div>
                    <div class="title">生活服务</div>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                  </div>
                  <div>
                    <div class="title">更多精选</div>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                    <a href="">123</a>
                  </div>
                </div>
              </li>
              <li class="border"></li>
              <li class="m">
                <a href="">手机京东</a>
              </li>
            </ul>
          </div>
        </div>
        <!-- 头部导航结束 -->
        <!-- 搜索开始 -->
        <div class="top-seek">
          <div class="centre">
            <!-- input搜索 -->
            <div class="fixed-box"></div>
            <div class="seek-box">
              <!-- 左侧图片 -->
              <div class="zc-img"></div>
              <div class="seek">
                <input
                  type="text"
                  placeholder="微单相机"
                  class="text sous-tx"
                />
                <ul id="oul">
                  <li id="oui-li">
                    <a href="">asd</a>
                  </li>
                  <li>
                    <a href="">asd</a>
                  </li>
                  <li>
                    <a href="">asd</a>
                  </li>
                  <li>
                    <a href="">asd</a>
                  </li>
                </ul>
                <i class="iconfont icon-xiangji"></i>
                <button class="iconfont icon-sousuo sous-btn"></button>
                <div class="cw-ico">
                  <i class="iconfont icon-gouwuche one"></i>
                  <a target="_blank" href="">我的购物车</a>
                  <i class="ci-count" id="shopping-amount">0</i>
                </div>
              </div>
            </div>
          </div>

          <!-- input 搜索下小选项 -->
          <div id="hotwords" class="haveline">
            <a
              onclick="searchlog(1,0,0,52,'休闲裤男')"
              href="Search?keyword=%E4%BC%91%E9%97%B2%E8%A3%A4%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.0"
              class="fore"
              >休闲裤男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,1,52,'衬衫男')"
              href="Search?keyword=%E8%A1%AC%E8%A1%AB%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.1"
              >衬衫男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,2,52,'短袖t恤男')"
              href="Search?keyword=%E7%9F%AD%E8%A2%96t%E6%81%A4%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.2"
              >短袖t恤男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,3,52,'polo衫男')"
              href="Search?keyword=polo%E8%A1%AB%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.3"
              >polo衫男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,4,52,'长袖t恤男')"
              href="Search?keyword=%E9%95%BF%E8%A2%96t%E6%81%A4%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.4"
              >长袖t恤男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,5,52,'短裤男')"
              href="Search?keyword=%E7%9F%AD%E8%A3%A4%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.5"
              >短裤男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,6,52,'牛仔裤男')"
              href="Search?keyword=%E7%89%9B%E4%BB%94%E8%A3%A4%E7%94%B7&amp;enc=utf-8&amp;spm=2.1.6"
              >牛仔裤男</a
            ><b>|</b
            ><a
              onclick="searchlog(1,0,7,52,'t恤男自营')"
              href="Search?keyword=t%E6%81%A4%E7%94%B7%E8%87%AA%E8%90%A5&amp;enc=utf-8&amp;spm=2.1.7"
              >t恤男自营</a
            >
          </div>
          <!-- 右侧图片 -->
          <div class="mobile_static">
            <div class="mobile_static_qrcode"></div>
          </div>
        </div>
      </div>

      <!-- 搜索结束 -->
    </div>
    <!-- 详情开始 -->
    <div class="xq">
      <div class="preview_wrap">
        <div class="preview_img">
          <img
            src="https:////img14.360buyimg.com/n1/jfs/t1/121369/32/2617/208911/5ec7acb3E765f8148/0c4bf28e6a636e55.jpg"
            alt=""
          />
          <!-- 遮挡层 -->
          <div class="mask"></div>
          <!-- 放大版的图片 -->
          <div class="big">
            <img
              src="https:////img14.360buyimg.com/n1/jfs/t1/121369/32/2617/208911/5ec7acb3E765f8148/0c4bf28e6a636e55.jpg"
              alt=""
              class="bigImg"
            />
          </div>
        </div>
      </div>
      <!-- 商品介绍 -->
      <div class="js">
        <h5>
          吉普JEEP 短T套装男士2020夏季冰爽轻薄休闲透气运动两件套 T22201黑色 XL
        </h5>
        <div class="box1">
          <span>选择颜色</span>
          <a href="">黑色</a>
          <a href="">白色</a>
          <a href="">蓝色</a>
          <a href="">灰色</a>
        </div>
        <div class="box2">
          <span>选择尺码</span>
          <a href="">M</a>
          <a href="">L</a>
          <a href="">XL</a>
          <a href="">2XL</a>
          <a href="">3XL</a>
          <a href="">4XL</a>
        </div>
        <div class="box3">
          <span>增值保障</span>
          <a href="">仨月意外换新 ￥5</a>
          <a href="">爱心回收 ￥3 </a>
        </div>
        <div class="box4">
          <span>白条分期</span>
          <a href="">不分期</a>
          <a href="">￥ 23.35起 x 3旗</a>
          <a href="">￥ 11.85起 x 6旗</a>
          <a href="">￥ 6.1起 x 12旗</a>
        </div>
        <div class="box5">
          <span> - </span>
          <input type="text" />
          <span> + </span>
        </div>
        <button>加入购物车</button>
      </div>
    </div>
    <!-- 详情结束 -->
    <script src="../js/xiangqing1.js"></script>
    <script>
      window.addEventListener("load", function () {
        // 放大镜效果
        // 1.鼠标经过区域 遮挡层和大图片显示和隐藏
        // 2.鼠标移动 遮挡层跟着移动 主要是获得鼠标移动时不断变化的位置赋值给遮挡层
        // 3.遮挡层与大图片位置与之对应 按比例移动

        // 1.鼠标经过preview_img时 遮挡层和大图片显示 和 隐藏
        // 获取事件源
        var preview_img = this.document.querySelector(".preview_img");
        var mask = this.document.querySelector(".mask");
        var big = this.document.querySelector(".big");
        // 注册事件
        preview_img.addEventListener("mouseover", function () {
          mask.style.display = "block";
          big.style.display = "block";
        });
        preview_img.addEventListener("mouseleave", function () {
          mask.style.display = "none";
          big.style.display = "none";
        });
        // 2.鼠标移动 更新遮挡层的位置
        // 给区域添加侦听器,只要鼠标一移动 就更新遮挡层的位置  切记:只有开启定位的盒子 才可以使用left和top值
        preview_img.addEventListener("mousemove", function (e) {
          // (1) 经过时 就要获得鼠标在preview_img里面的坐标
          var mouseX = e.pageX - preview_img.offsetLeft - 153;
          var mouseY = e.pageY - preview_img.offsetTop - 141;
          // console.log(mouseX, mouseY);
          // (2) 更新遮挡层的位置
          // a.如果直接赋值的话:鼠标是在遮挡层的左上角,为了美观鼠标应该在遮挡层的中心位置 - 盒子高\宽的一半
          var maskX = mouseX - mask.offsetWidth / 2;
          var maskY = mouseY - mask.offsetHeight / 2;
          // b.此时还会出现一个问题:遮挡层在preview_img区域之外也出现了  我们只需要在区域内显示 区域外不显示
          // 所以 我们需要一个判断条件 left的最大值(previwe_img.width-mask.width)和最小值(0)
          var maskMax = preview_img.offsetWidth - mask.offsetWidth;
          if (maskX <= 0) {
            maskX = 0;
          } else if (maskX >= maskMax) {
            maskX = maskMax;
          }
          if (maskY <= 0) {
            maskY = 0;
          } else if (maskY >= maskMax) {
            maskY = maskMax;
          }
          mask.style.left = maskX + "px";
          mask.style.top = maskY + "px";
          // console.log(mask.style.left, mask.style.top);

          // 3.大图片跟随遮挡层的移动而移动
          // 有一个核心算法: 遮挡层移动位置/遮挡层最大移动位置 = 大图片移动位置/大图片最大移动位置
          // 遮挡层移动位置:maskX maxkY; 遮挡层最大移动位置:maskMax
          // 大图片移动位置: bigX bigY; 大图片最大移动位置:bigMax
          // (1)bigMax = 图片尺寸-装图片盒子的尺寸  图片比盒子大
          var bigImg = document.querySelector(".bigImg");
          var bigMax = bigImg.offsetWidth - big.offsetWidth;
          // (2) bigX = 遮挡层移动位置 * 大图片最大移动位置 / 遮挡层最大移动位置
          var bigX = (maskX * bigMax) / maskMax;
          var bigY = (maskY * bigMax) / maskMax;
          // (3) 大图片的left和top值: big系列的值  的负值
          bigImg.style.left = -bigX + "px";
          bigImg.style.top = -bigY + "px";
        });
      });
    </script>
  </body>
</html>
